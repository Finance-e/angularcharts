"use strict";google.load("visualization","1",{packages:["corechart"]}),google.setOnLoadCallback(function(){angular.bootstrap(document.body,["myApp"])}),angular.module("fangucharts",[]).directive("gChart",function(){return{restrict:"EA",controller:["$scope","$attrs","$element",function(a,b,c){a.$watch("chart",function(){if("undefined"!=typeof a.chart){var b=a.chart.typeName,d=new google.visualization.ChartWrapper({chartType:b,dataTable:a.chart.data,options:a.chart.options,containerId:c[0]});d.draw();{var e=function(b){"undefined"==typeof a.copyData&&(a.copyData={});var c=!1;"undefined"==typeof a.copyData[b]&&(c=!0,a.copyData[b]={});for(var d in a.localData)"0"!==d&&"1"!==d&&"undefined"!=typeof a.localData[d][b]&&(c?(a.copyData[b][d]=a.localData[d][b],a.localData[d][b]=null):a.localData[d][b]=a.copyData[b][d]);c||delete a.copyData[b],a.$digest()},f=d.getChart();new google.visualization.DataView(a.chart.data)}google.visualization.events.addListener(d,"select",function(){var a=f.getSelection();0!==a.length&&null===a[0].row&&e(a[0].column)})}},!0)}]}}).directive("charts",["$window",function(a){return{restrict:"EA",template:'<div class="charts span12"><div g-chart></div></div>',replace:!0,scope:{localData:"=localdata",chartType:"=type",options:"=options",title:"=title",animation:"@animation"},controller:["$scope","$attrs","$element",function(b){b.chartTypes=["LineChart","BarChart","Coluna","ColumnChart","PieChart","AreaChart","BubbleChart","MotionChart","SteppedAreaChart","Table"],"undefined"==typeof b.chartType&&(b.chartType="LineChart");var c=function(){var a={title:b.title,page:"enable",pageSize:10,pagingSymbols:{prev:"Anterior",next:"Pr√≥ximo"},pagingButtonsConfiguration:"auto",allowHtml:!0,explorer:{axis:"horizontal",keepInBounds:!0,maxZoomIn:.25,maxZoomOut:1}};return a.animation={duration:1e3,easing:"out"},a},d=function(a){var d={},e=a[0],f=a[1];d.data=new google.visualization.DataTable;for(var g in e)d.data.addColumn(f[g],e[g]);d.data.addRows(a.slice(2)),d.options=c(),d.typeName=b.chartType,b.chart=d};b.$watch("localData",function(a){d(a)},!0),b.$watch("chartType",function(){"undefined"!=typeof b.chart&&(b.chart.typeName=b.chartType)},!0);var e=angular.element(a);e.bind("resize",function(){d(b.localData),b.$digest()})}]}}]);